# ุฅุนุฏุงุฏ ูููุงุช ุงูุจูุฆุฉ - Environment Variables Setup

## ูููู ูููุงุช ุงูุจูุฆุฉ

ูุณุชุฎุฏู ุงููุดุฑูุน **ููู `.env` ูุงุญุฏ** ูู ุงููุฌูุฏ ุงูุฑุฆูุณู `backend/.env` ูุฌููุน ุงูุฎุฏูุงุช.

### ุงููููุน

```
backend/
โโโ .env              # ููู ุงูุจูุฆุฉ ุงูุฑุฆูุณู (ูุง ูุชู ุฑูุนู)
โโโ .env.example      # ูุซุงู ูููู ุงูุจูุฆุฉ
โโโ [services]/
```

## ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ

### 1. ูุณุฎ ุงูููู ุงููุซุงู

```bash
cd backend
cp .env.example .env
```

### 2. ุชุนุฏูู ุงูููู

ูู ุจูุชุญ ููู `.env` ูุชุนุฏูู ุงูููู ุงูุชุงููุฉ:

```env
# Node Environment
NODE_ENV=production

# Database Configuration
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-secure-password
POSTGRES_DB=qmenus
DATABASE_URL=postgresql://postgres:your-secure-password@postgres:5432/qmenus?schema=public

# JWT Secret (ููู ุฌุฏุงู - ุงุณุชุฎุฏู ููุชุงุญ ุนุดูุงุฆู ููู)
JWT_SECRET=your-very-secure-jwt-secret-key

# Frontend URL
FRONTEND_URL=https://qmenussy.com

# Email Service
RESEND_API_KEY=your-resend-api-key
EMAIL_FROM=noreply@qmenussy.com

# Redis (ุงุฎุชูุงุฑู)
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=your-redis-password
```

## ููู ูุนูู ุชุญููู ููู ุงูุจูุฆุฉ

### ูู Docker

ุนูุฏ ุงุณุชุฎุฏุงู Docker Composeุ ูุชู ุชุญููู ุงููุชุบูุฑุงุช ูู `backend/.env` ุชููุงุฆูุงู ุนุจุฑ:

```yaml
env_file:
  - .env
```

### ูู ุงูุชุทููุฑ ุงููุญูู

ุฌููุน ุงูุฎุฏูุงุช ุชุญุงูู ุชุญููู `.env` ูู ุงููุฌูุฏ ุงูุฑุฆูุณู `backend/.env` ุจุงูุชุฑุชูุจ ุงูุชุงูู:

1. `backend/.env` (ุงูููุถู)
2. `../.env` (ุงููุฌูุฏ ุงูุฃุจ)
3. `.env` (ุงููุฌูุฏ ุงูุญุงูู)
4. `api-service/.env` (ููุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ)

### ุงูุฎุฏูุงุช ุงูุชู ุชุณุชุฎุฏู ููู ุงูุจูุฆุฉ

- โ **API Service** - ุนุจุฑ `shared/config/env.ts`
- โ **Socket Service** - ุนุจุฑ `shared/config/env.ts`
- โ **Jobs Service** - ุนุจุฑ `shared/config/env.ts`
- โ **Prisma Migrations** - ุนุจุฑ `shared/package.json`
- โ **Database Seed** - ุนุจุฑ `api-service/scripts/check-and-seed.js`

## ููุงุญุธุงุช ูููุฉ

### โ๏ธ ุงูุฃูุงู

- **ูุง ุชุฑูุน ููู `.env`** ุฅูู Git (ููุฌูุฏ ูู `.gitignore`)
- ุงุณุชุฎุฏู ููู ูุฎุชููุฉ ููุฅูุชุงุฌ ูุงูุชุทููุฑ
- ูู ุจุชุบููุฑ ุฌููุน ุงูููู ุงูุงูุชุฑุงุถูุฉ

### ๐ ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ

ุฅุฐุง ูุงู ูุฏูู ูููุงุช `.env` ูู ูุฌูุฏุงุช ุงูุฎุฏูุงุช (ูุซู `api-service/.env`)ุ ุณูุชู ุงุณุชุฎุฏุงููุง ูุฎูุงุฑ ุงุญุชูุงุทูุ ููู ูููุถู ุงุณุชุฎุฏุงู ููู ูุงุญุฏ ูู `backend/.env`.

### ๐ ุงููุชุบูุฑุงุช ุงููุทููุจุฉ

| ุงููุชุบูุฑ             | ูุทููุจ | ุงููุตู                    |
| ------------------- | ----- | ------------------------ |
| `DATABASE_URL`      | โ    | ุฑุงุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช      |
| `JWT_SECRET`        | โ    | ููุชุงุญ JWT ููุชูููุน        |
| `FRONTEND_URL`      | โ    | ุฑุงุจุท ุงููุฑููุช ุฅูุฏ         |
| `POSTGRES_PASSWORD` | โ    | ูููุฉ ูุฑูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช |
| `RESEND_API_KEY`    | โ๏ธ    | ูุทููุจ ูุฅุฑุณุงู ุงูุฅููููุงุช   |
| `REDIS_URL`         | โช    | ุงุฎุชูุงุฑู ููุชุฎุฒูู ุงููุคูุช   |

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงููุชุบูุฑุงุช ูุง ุชูุญููู

```bash
# ุชุญูู ูู ูุฌูุฏ ุงูููู
ls -la backend/.env

# ุชุญูู ูู ูุญุชูู ุงูููู
cat backend/.env

# ุชุญูู ูู ุงููุชุบูุฑุงุช ูู Docker
docker-compose exec backend env | grep DATABASE_URL
```

### ุงููุดููุฉ: ููู ุฎุงุทุฆุฉ

```bash
# ุชุญูู ูู ุงูููู ูู ุงูุญุงููุฉ
docker-compose exec backend printenv | grep -E "DATABASE_URL|JWT_SECRET"
```

## ุงูุชุญุฏูุซ ูู ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ

ุฅุฐุง ููุช ุชุณุชุฎุฏู ูููุงุช `.env` ูููุตูุฉ ูู ูู ุฎุฏูุฉ:

1. ุฏูุฌ ุฌููุน ุงููุชุบูุฑุงุช ูู `backend/.env`
2. ุงุญุฐู ูููุงุช `.env` ูู ูุฌูุฏุงุช ุงูุฎุฏูุงุช
3. ุฃุนุฏ ุชุดุบูู ุงูุฎุฏูุงุช

```bash
# ูุซุงู: ุฏูุฌ ูููุงุช ุงูุจูุฆุฉ
cat api-service/.env socket-service/.env jobs-service/.env > .env

# ุซู ูู ุจุชูุธูู ุงููููุงุช ุงูููุฑุฑุฉ
```
