# ๐ ุฃูุงูุฑ ุชุดุบูู ุงููุดุฑูุน

## ๐ ุฏููู ุณุฑูุน

- **ููุชุทููุฑ ุงููุญูู:** `npm run start:dev`
- **ููุฅูุชุงุฌ ุนูู VPS:** ุฑุงุฌุน `DEPLOYMENT.md` ุฃู `QUICK_DEPLOY.md`
- **ููุชุญุฏูุซุงุช:** `npm run update` ุฃู `./scripts/update.sh`

---

## ุงูุชุทููุฑ (Development)

ูุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช ูู ูุถุน ุงูุชุทููุฑ:

```bash
npm run start:dev
```

ุฃู:

```bash
npm run dev:all
```

ูุฐุง ุงูุฃูุฑ ุณูุดุบู:

- **api-service** ุนูู ุงููููุฐ 5000
- **socket-service** ุนูู ุงููููุฐ 5001
- **jobs-service** ุนูู ุงููููุฐ 5002

ูุฅููุงู ุฌููุน ุงูุฎุฏูุงุชุ ุงุถุบุท `Ctrl+C`

---

## ุงูุฅูุชุงุฌ (Production)

### 1. ุจูุงุก ุฌููุน ุงูุฎุฏูุงุช

```bash
npm run build:all
```

ูุฐุง ุงูุฃูุฑ ุณูููู ุจู:

- ุชูููุฏ Prisma Client
- ุจูุงุก ุฌููุน ุงูุฎุฏูุงุช (api-service, socket-service, jobs-service)

### 2. ุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช

```bash
npm run start:prod
```

ูุฐุง ุงูุฃูุฑ ุณูุดุบู ุฌููุน ุงูุฎุฏูุงุช ุจุงุณุชุฎุฏุงู PM2

### 3. ุฅููุงู ุฌููุน ุงูุฎุฏูุงุช

```bash
npm run stop:prod
```

---

## ุฃูุงูุฑ npm ุงูุฅุถุงููุฉ

```bash
# ุนุฑุถ ุญุงูุฉ ุงูุฎุฏูุงุช
npm run status:prod

# ุนุฑุถ ุงูุณุฌูุงุช
npm run logs:prod

# ุฅุนุงุฏุฉ ุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช
npm run restart:prod

# ุงููุดุฑ ุงููุงูู (ุนูู VPS)
npm run deploy

# ุงูุชุญุฏูุซ (ุนูู VPS)
npm run update
```

## ุฃูุงูุฑ PM2 ุงูุฅุถุงููุฉ

ุจุนุฏ ุชุดุบูู ุงูุฎุฏูุงุช ูู ูุถุน ุงูุฅูุชุงุฌุ ููููู ุงุณุชุฎุฏุงู ุฃูุงูุฑ PM2 ุงูุชุงููุฉ:

```bash
# ุนุฑุถ ุญุงูุฉ ุฌููุน ุงูุฎุฏูุงุช
pm2 status

# ุนุฑุถ ุงูุณุฌูุงุช (logs)
pm2 logs

# ุนุฑุถ ุณุฌูุงุช ุฎุฏูุฉ ูุญุฏุฏุฉ
pm2 logs api-service

# ุฅุนุงุฏุฉ ุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช
pm2 restart ecosystem.config.js

# ุฅุนุงุฏุฉ ุชุดุบูู ุฎุฏูุฉ ูุญุฏุฏุฉ
pm2 restart api-service

# ุฅููุงู ุฌููุน ุงูุฎุฏูุงุช
pm2 stop ecosystem.config.js

# ุญุฐู ุฌููุน ุงูุฎุฏูุงุช ูู PM2
pm2 delete ecosystem.config.js

# ุนุฑุถ ูุนูููุงุช ุชูุตูููุฉ
pm2 show api-service

# ูุฑุงูุจุฉ ุงูุฃุฏุงุก
pm2 monit
```

---

## ููุงุญุธุงุช ูููุฉ

1. **ูุจู ุงูุชุดุบูู ูู ูุถุน ุงูุฅูุชุงุฌ:**

   - ุชุฃูุฏ ูู ูุฌูุฏ ููู `.env` ูุน ุฌููุน ุงููุชุบูุฑุงุช ุงููุทููุจุฉ
   - ูู ุจุจูุงุก ุฌููุน ุงูุฎุฏูุงุช ุฃููุงู: `npm run build:all`

2. **ุงูููุงูุฐ (Ports):**

   - API Service: 5000
   - Socket Service: 5001
   - Jobs Service: 5002

3. **ุงูุณุฌูุงุช (Logs):**

   - ูู ูุถุน ุงูุฅูุชุงุฌุ ุงูุณุฌูุงุช ููุฌูุฏุฉ ูู ูุฌูุฏ `logs/`
   - ููููู ุนุฑุถูุง ูุจุงุดุฑุฉ ุฃู ุงุณุชุฎุฏุงู `pm2 logs`

4. **ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
   - ุชุฃูุฏ ูู ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจู ุจุฏุก ุงูุฎุฏูุงุช
   - ูู ุจุชุดุบูู migrations: `npm run db:migrate`
